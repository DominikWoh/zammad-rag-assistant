# Zammad RAG System - Docker Environment Configuration Template
# Copy this file to .env and update the values according to your environment

# =============================================================================
# ZAMMAD CONFIGURATION
# =============================================================================
ZAMMAD_URL="http://your-zammad-server:8080/"
ZAMMAD_TOKEN="your_zammad_api_token_here"

# =============================================================================
# QDRANT CONFIGURATION  
# =============================================================================
QDRANT_URL="http://qdrant:6333"
QDRANT_API_KEY="your_qdrant_api_key_here"  # Optional, leave empty if not using authentication
COLLECTION_NAME="zammad_rag"
QDRANT_TITLE_COLLECTION="zammad_titles"
QDRANT_CHUNK_COLLECTION="zammad_chunks" 
QDRANT_TICKET_COLLECTION="zammad_full_tickets"

# =============================================================================
# OLLAMA AI CONFIGURATION
# =============================================================================
OLLAMA_URL="http://ollama:11434"
OLLAMA_MODEL="qwen2.5"  # or "llama2", "mistral", etc.
AI_CHECK_INTERVAL="300"  # Check interval in seconds (5 minutes)
AI_TICKET_MAX_AGE_DAYS="1"  # Only process tickets newer than this many days
AI_ENABLED="true"  # Enable AI features

# =============================================================================
# EMBEDDING AND RERANKING MODELS
# =============================================================================
EMBEDDING_MODEL="intfloat/multilingual-e5-large"
RERANKER_MODEL="cross-encoder/ms-marco-MiniLM-L-6-v2"

# =============================================================================
# BM25 SEARCH CONFIGURATION
# =============================================================================
BM25_K1="0.9"
BM25_B="0.4"
USE_CACHED_BM25="false"

# =============================================================================
# TICKET PROCESSING CONFIGURATION
# =============================================================================
TICKET_MIN_AGE_DAYS="14"  # Minimum age in days for ticket transfer
START_DATE="2025-01-01"   # Only process tickets created after this date
SKIP_EXISTING="true"

# =============================================================================
# TEXT CHUNKING CONFIGURATION
# =============================================================================
CHUNK_SIZE="450"
CHUNK_OVERLAP="50" 
CHUNK_MAX="512"

# =============================================================================
# SEARCH AND RAG CONFIGURATION
# =============================================================================
TOP_K="200"  # Number of search results to retrieve
TOP_TICKETS="10"  # Number of top tickets to return
QDRANT_SEARCH_HNSW_EF="128"

# =============================================================================
# PROMPT TEMPLATES (Optional)
# =============================================================================
RAG_SEARCH_PROMPT="Erstelle einen pr채gnanten Suchbegriff f체r die RAG-Suche basierend auf folgendem Ticket, gib nur den suchbegriff aus: {ticket_content}"
ZAMMAD_NOTE_PROMPT="Erstelle eine hilfreiche und professionelle Antwort f체r folgendes Zammad-Ticket basierend auf den verf체gbaren Informationen: {ticket_content}\n\nRelevante Informationen:\n{search_results}"

# =============================================================================
# UI CONFIGURATION
# =============================================================================
UI_LANGUAGE="DE"  # UI language: DE or EN

# =============================================================================
# COLLECTION NAMES (Advanced)
# =============================================================================
SOURCE_COLLECTION="full-tickets-clean"
CLEAN_COLLECTION="full-tickets-clean"
DEST_COLLECTION="zammad-vectors"